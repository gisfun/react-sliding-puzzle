(this["webpackJsonpreact-sliding-puzzle"]=this["webpackJsonpreact-sliding-puzzle"]||[]).push([[0],{18:function(t,e,n){t.exports=n(34)},23:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),i=(n(23),n(2)),l=n(3),u=n(13),s=n(6);function f(t){for(var e=0,n=t.length;e<n;e++)if(t[e]!==e)return!1;return!0}function h(t){return{row:Math.floor(t/3),col:t%3}}function g(t){var e=[].concat(Object(l.a)(t.filter((function(e){return e!==t.length-1})).sort((function(){return Math.random()-.5}))),[t.length-1]);return function(t){for(var e=1,n=1;n<=8;n++)for(var a=n+1;a<=9;a++)e*=(t[n-1]-t[a-1])/(n-a);return 1===Math.round(e)}(e)&&!f(e)?e:g(e)}function d(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}var m=function(t){var e=t.tile,n=t.index,a=t.width,c=t.height,o=t.handleTileClick,i=t.imgUrl;console.log("img in tile",i);var l=h(n),f=function(t,e,n,a){return{x:e*n,y:t*a}}(l.row,l.col,a,c),g={width:"calc(100% / ".concat(3,")"),height:"calc(100% / ".concat(3,")"),borderStyle:"groove",borderWidth:"thin",borderColor:"black",translateX:f.x,translateY:f.y,backgroundImage:"url(".concat(i,")"),backgroundSize:"".concat(320,"px"),backgroundPosition:"".concat(e%3*50,"% ").concat(50*Math.floor(e/3),"%")},d={translateX:Object(s.spring)(f.x),translateY:Object(s.spring)(f.y)};return r.a.createElement(s.Motion,{style:d},(function(t){var a=t.translateX,c=t.translateY;return r.a.createElement("li",{style:Object(u.a)(Object(u.a)({},g),{},{transform:"translate3d(".concat(a,"px, ").concat(c,"px, 0)"),opacity:8===e?0:1}),className:"tile",onClick:function(){return o(n)}},!i&&"".concat(e+1))}))};var v=function(t){var e=t.imgUrl,n=Object(a.useState)(Object(l.a)(Array(9).keys())),c=Object(i.a)(n,2),o=c[0],u=c[1],s=Object(a.useState)(!1),d=Object(i.a)(s,2),v=d[0],b=d[1];console.log("is started:",v);var p=function(){var t=g(o);u(t)},w=function(t){if(function(t,e){var n=h(t),a=n.row,r=n.col,c=h(e),o=c.row,i=c.col;return Math.abs(a-o)+Math.abs(r-i)===1}(t,o.indexOf(o.length-1))){var e=function(t,e,n){var a=Object(l.a)(t),r=[a[n],a[e]];return a[e]=r[0],a[n]=r[1],a}(o,t,o.indexOf(o.length-1));u(e)}},O=function(t){w(t)},E=Math.round(320/3),j=Math.round(320/3),M={width:320,height:320},k=f(o);return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{style:M,className:"board"},o.map((function(t,n){return r.a.createElement(m,{key:t,index:n,imgUrl:e,tile:t,width:E,height:j,handleTileClick:O})}))),k&&v&&r.a.createElement("div",null,"Puzzle solved \ud83e\udde0 \ud83c\udf89"),v?r.a.createElement("button",{onClick:function(){p()}},"Restart game"):r.a.createElement("button",{onClick:function(){return p(),void b(!0)}},"Start game"))};var b=function(){var t=Object(a.useState)(""),e=Object(i.a)(t,2),n=e[0],c=e[1];return Object(a.useEffect)((function(){var t=new URLSearchParams(window.location.search);t.has("img")?c(t.get("img")):c(function(){var t=d(51627,51730),e=d(32497,32559);return"https://www.onemap.gov.sg/maps/tiles/Original_HD/16/".concat(t,"/").concat(e,".png")}())}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"React sliding puzzle"),r.a.createElement(v,{imgUrl:n}),r.a.createElement("input",{value:n,onChange:function(t){c(t.target.value),window.history.replaceState("","",function(t,e,n){var a="",r=t.split("?"),c=r[0],o=r[1],i="";if(o){r=o.split("&");for(var l=0;l<r.length;l++)r[l].split("=")[0]!==e&&(a+=i+r[l],i="&")}return c+"?"+a+(i+""+e+"="+n)}(window.location.href,"img",t.target.value))}}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.0fdca556.chunk.js.map